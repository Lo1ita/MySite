@model IEnumerable<Lo1ita.Model.Article>
@{
    Layout = "~/Views/Shared/_ArticleLayout.cshtml";
    ViewBag.Title = "草稿";
    ViewBag.titleText = "草稿";

}
<div class="Draft-list">
    <ul>
        
                        
                        @if (Model.Count()!=0)
                        {
                            foreach (var item in Model)
                            {
                <li class="Drafts-item">
                    <div class="Drafts-title">
                        <a class="Drafts-link" href="Edit/@item.ID">@item.Title</a>
                    </div>
                    <div class="Drafts-meta">
                        <time class="Drafts-updated" data-toggle="tooltip" data-placement="bottom" title="@item.UpdateDate.ToString()"><span class="intervslTime"></span>前</time>
                        <span class="Bull"></span><span class="Drafts-words">共 @item.Textlength 字</span><span class="Bull"></span>
                        <span onclick="DeleteArticle(@item.ID)" class="Drafts-removeButton">删除</span>
                    </div>
                </li>
                }
            }
            else
            {
        <li class="Drafts-item">
            <div class="Drafts-title">
                <span class="Drafts-link">暂无草稿</span>
            </div>
        </li>

                }
            

</ul>
</div>
<script>
    $(function () {
        //隐藏标题
        $(".WriteIndex-pageTitle").hide();
        //隐藏发布按钮
        $("#btnPublish").hide();
    })
    //计算相隔时间
    $(".intervslTime").each(function () {
        //将上层标签中的title数据分为日期和时间部分
        var updatetime = $(this).parent().attr("title").split(" ");
        //将日期部门分割成数组
        var updateDate = updatetime[0].split("-");
        var CurrentTime = new Date();
        //将日期部分重新组装（用于比较相隔日期）
        var uDate =Date.parse(updateDate[1] + '-' + updateDate[2] + '-' + updateDate[0]);
        var CDate = Date.parse((CurrentTime.getMonth() + 1) + '-' + CurrentTime.getDate() + '-' + CurrentTime.getFullYear());
        //相隔天数（86400000是一天的毫秒数）
        iDays = parseInt(Math.abs(CDate - uDate) / 86400000);
        if (iDays > 0) {
            $(this).text(iDays+"天");
        }
        else {   //如果时间相隔不足一天，计算相隔小时数
            var updateHour = updatetime[1].split(":");


        }
    })
    //删除文章
    function DeleteArticle(ID) {

    }
</script>