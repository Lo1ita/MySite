@model Model.Article

@{
    Layout = "~/Views/Shared/_ArticleLayout.cshtml";
    ViewBag.Title = "写文章";
}



<div class="form-horizontal">
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        <div class="titleInput">
            <textarea rows="1" class="Input" id="Title" name="Title" placeholder="请输入标题"></textarea>
            <input type="hidden" id="Details" name="Details" value="" />
        </div>
    }
    <div id="divTool" class="toolbar"></div>
    <div id="divText" class="textArea"></div>

</div>


<script src="~/Scripts/WangEditor/wangEditor.min.js"></script>
<script type="text/javascript">
    var E = window.wangEditor
    var editor = new E('#divTool', '#divText')
    editor.customConfig.onchange = function (html) {
        //编辑器中的文本
        var inputText = editor.txt.text()
        if ($("#Title").val().length > 0 && inputText.length > 0) {

            $("#btnPublish").addClass("publishBtn");
            $("#btnPublish").removeAttr("disabled");
        }
        else {
            $("#btnPublish").removeClass("publishBtn");
            $("#btnPublish").attr("disabled", "disabled");
        }
    }
    editor.create()
    $("#btnPublish").click(function () {
        $("form").submit();
    })
</script>